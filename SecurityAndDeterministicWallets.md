# Security And Deterministic Wallets #
The BCCAPI uses a deterministic elliptic key generator based on a long random seed. The seed itself is generated by entering a long passphrase and a salt. This scheme is secure so long as the passphrase is hard to guess using brute force.

In this context brute forcing is the process of:

  1. Guessing at possible passphrase
  1. Calculating the seed
  1. Derive a number of private elliptic keys from the seed
  1. See if the corresponding public keys are in the block chain.

This process is repeated until a passphrase is found which has public keys in the block chain. A successful attack means that the atatcker has found the seed from which all private keys in a wallet are derived.

Two mechanisms have been applied to make a successful attack harder:

  1. The user enters a salt along with the passphrase. The salt should be unique, easy to remember, but does not need to be secret. An email address has those properties. The salt is hashed along with the passphrase before the seed is calculated. This simple mechanism means that an attacker cannot attack all wallets as a whole, as each salt opens a new keyspace in which to search. Salting techniques have been used in Unix password files for decades, and makes rainbow attacks impractical.
  1. The seed calculation is computationally hard. The BCCAPI uses several rounds of Scrypt to calculate the seed from the passphrase and salt. This is why it takes roughly 2 minutes to initialize on a modern Android phone, and a few seconds on a desktop computer. For every attempt an attacker makes at brute forcing the passphrase he is forced to make this calculation. Compare this to conventional salting where a single round of SHA-1 or MD5 is used. The method employed by BCCAPI is millions of times harder. Scrypt is designed for making hardware based brute force attacks much harder by forcing the calculation to use much more memory than for instance SHA-1. This way it will me much more expensive for an attacker to design a Scrypt chip that can do the calculation in cache-memory.

If the techniques above were not used the passphrases would need to be much longer to obtain the same security. Furthermore, if no salts were applied then two wallets with the same passphrase would in fact be the same.

In the end the strength of the deterministic wallet is based on the strength of the passphrase. It is important to note that the strength of the passphrase is not its length only. Guessing a passphrase which only contains one letter repeated 100 times is easy. The strength of a passphrase is how hard it is to guess.

Going forward we may want to address this shortcoming with QR codes and secret sharing. Read the wiki on [Managing Long Passphrases](ManagingLongPassphrases.md)